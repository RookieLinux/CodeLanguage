CMAKE_MINIMUM_REQUIRED(VERSION 3.8)

set(CMAKE_CUDA_FLAGS "${CMAKE_CUDA_FLAGS} -arch=sm_86")
#set(CMAKE_CUDA_FLAGS "${CMAKE_CUDA_FLAGS} -arch=sm_86 -Xptxas -dlcm=ca")
#set(CMAKE_CUDA_FLAGS_DEBUG  "-G -g -O0")

get_filename_component(DIR_NAME ${CMAKE_CURRENT_SOURCE_DIR} NAME)
message(STATUS "Current dir is ${DIR_NAME}")

CUDA_ADD_EXECUTABLE(hello hello.cu)
SET_PROPERTY(TARGET hello  PROPERTY FOLDER ${DIR_NAME} CUDA_STANDARD 11)